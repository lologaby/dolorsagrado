---
import Layout from '../layouts/Layout.astro';

const steps = [
  { num: '01', title: 'Reserva tu cita', desc: 'Completa el formulario de reserva normalmente y selecciona Klarna como método de pago.' },
  { num: '02', title: 'Aprobación instantánea', desc: 'Al momento del pago, Klarna evalúa tu solicitud en segundos. Sin papeleo ni crédito tradicional.' },
  { num: '03', title: 'Paga en cuotas', desc: 'Divide el costo en 4 pagos quincenales sin intereses, o elige pagar en 6–36 meses.' },
  { num: '04', title: 'Disfruta tu pieza', desc: 'Sacred Pain recibe el pago completo — tú pagas a tu ritmo directamente a Klarna.' },
];

const plans = [
  { name: 'Pay in 4', tag: 'Sin intereses', desc: '4 pagos quincenales iguales. 0% de interés. Aprobación inmediata.', icon: '4×', brand: 'klarna' },
  { name: 'Pay Later', tag: '6–36 meses', desc: 'Financia desde $200+ en pagos mensuales fijos. Sujeto a aprobación de crédito.', icon: '$', brand: 'klarna' },
  { name: 'ATH Móvil', tag: 'Pago directo', desc: 'Transfiere directamente desde tu app de ATH Móvil. Sin comisiones. Inmediato.', icon: '⚡', brand: 'ath' },
];
---

<Layout
  title="Pagos a plazos con Klarna — Sacred Pain Tattoo"
  description="Paga tu tatuaje o piercing a plazos con Klarna. 4 pagos sin intereses o financiamiento mensual en Sacred Pain Tattoo."
>
  <!-- Hero -->
  <section class="klarna-hero">
    <div class="container klarna-hero-inner fade-in">
      <div class="klarna-hero-text">
        <div class="pay-logos">
          <img
            src="https://x.klarnacdn.net/payment-method/assets/badges/generic/klarna.svg"
            alt="Klarna"
            width="72"
            height="28"
            class="pay-logo-klarna"
          />
          <span class="pay-logo-sep">·</span>
          <svg class="pay-logo-ath" viewBox="0 0 120 40" width="72" height="24" xmlns="http://www.w3.org/2000/svg" aria-label="ATH Móvil">
            <defs>
              <linearGradient id="athGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#ED6D23"/>
                <stop offset="100%" style="stop-color:#F9A822"/>
              </linearGradient>
            </defs>
            <text x="4" y="30" font-family="Arial Black,Arial,sans-serif" font-weight="900" font-size="26" fill="url(#athGrad)" letter-spacing="-1">ATH</text>
            <text x="68" y="30" font-family="Arial,sans-serif" font-weight="700" font-size="14" fill="#ffffff" opacity="0.85">Móvil</text>
          </svg>
        </div>
        <h1 class="h1">Tattoo Now,<br/><span class="klarna-pink">Pay Later</span></h1>
        <p class="lead">
          Tattoo Now, Pay in 4 — divide el costo en 4 pagos sin intereses.<br/>
          O financia a plazos mensuales con Klarna. También aceptamos ATH Móvil.
        </p>
        <div class="klarna-hero-actions">
          <a class="btn klarna-btn" href="/reservar">
            Tattoo Now
            <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </a>
          <a class="btn btn-outline-gold" href="https://www.klarna.com/us/customer-service/" target="_blank" rel="noreferrer">
            Más sobre Klarna
          </a>
        </div>
      </div>
      <div class="klarna-hero-badge">
        <p class="klarna-badge-label">Métodos de pago</p>
        <img
          src="https://x.klarnacdn.net/payment-method/assets/badges/generic/klarna.svg"
          alt="Klarna"
          class="klarna-badge-img"
        />
        <div class="badge-divider"></div>
        <svg class="ath-badge-logo" viewBox="0 0 110 34" width="80" height="26" xmlns="http://www.w3.org/2000/svg" aria-label="ATH Móvil">
          <defs>
            <linearGradient id="athGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#ED6D23"/>
              <stop offset="100%" style="stop-color:#F9A822"/>
            </linearGradient>
          </defs>
          <text x="2" y="26" font-family="Arial Black,Arial,sans-serif" font-weight="900" font-size="24" fill="url(#athGrad3)" letter-spacing="-1">ATH</text>
          <text x="62" y="26" font-family="Arial,sans-serif" font-weight="700" font-size="13" fill="#ffffff" opacity="0.8">Móvil</text>
        </svg>
        <p class="klarna-badge-text">Aceptado en Sacred Pain Tattoo</p>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- Plans -->
  <section class="section">
    <div class="container">
      <div class="section-header fade-in">
        <p class="kicker">Métodos de pago aceptados</p>
        <h2 class="h2">Tattoo Now, Pay in 4<br/><span style="font-size:0.7em;color:var(--muted)">o Pay Later a tu ritmo</span></h2>
        <p class="lead">Múltiples opciones para tu presupuesto — sin intereses en Pay in 4.</p>
      </div>

      <div class="klarna-plans fade-in">
        {plans.map(p => (
          <div class={`klarna-plan card${p.brand === 'ath' ? ' plan-ath' : ''}`}>
            <div class="card-body">
              <div class="plan-top">
                <span class="plan-icon">{p.icon}</span>
                <span class="plan-tag">{p.tag}</span>
              </div>
              <h3 class="h3" style="font-size:24px;margin:12px 0 8px">{p.name}</h3>
              <p style="font-size:14px;color:var(--muted);line-height:1.65">{p.desc}</p>
              <div class="plan-brand-logo">
                {p.brand === 'klarna' && (
                  <img src="https://x.klarnacdn.net/payment-method/assets/badges/generic/klarna.svg" alt="Klarna" width="52" height="20" />
                )}
                {p.brand === 'ath' && (
                  <svg viewBox="0 0 110 34" width="60" height="22" xmlns="http://www.w3.org/2000/svg" aria-label="ATH Móvil">
                    <defs>
                      <linearGradient id="athGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" style="stop-color:#ED6D23"/>
                        <stop offset="100%" style="stop-color:#F9A822"/>
                      </linearGradient>
                    </defs>
                    <text x="2" y="26" font-family="Arial Black,Arial,sans-serif" font-weight="900" font-size="24" fill="url(#athGrad2)" letter-spacing="-1">ATH</text>
                    <text x="62" y="26" font-family="Arial,sans-serif" font-weight="700" font-size="13" fill="#ffffff" opacity="0.8">Móvil</text>
                  </svg>
                )}
              </div>
            </div>
          </div>
        ))}
      </div>

      <div class="klarna-features fade-in">
        <div class="klarna-feature">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          <span>Sin cargos ocultos</span>
        </div>
        <div class="klarna-feature">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          <span>Aprobación en segundos</span>
        </div>
        <div class="klarna-feature">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          <span>No afecta tu crédito</span>
        </div>
        <div class="klarna-feature">
          <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
          <span>Protección al comprador</span>
        </div>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- How it works -->
  <section class="section" style="background:var(--dark)">
    <div class="container">
      <div class="section-header fade-in">
        <p class="kicker">Cómo funciona</p>
        <h2 class="h2">4 pasos sencillos</h2>
      </div>

      <div class="klarna-steps">
        {steps.map(s => (
          <div class="klarna-step fade-in">
            <span class="klarna-step-num">{s.num}</span>
            <div>
              <h3 class="h3" style="font-size:20px;margin-bottom:6px">{s.title}</h3>
              <p style="font-size:14px;color:var(--muted);line-height:1.65">{s.desc}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- Example -->
  <section class="section">
    <div class="container">
      <div class="klarna-example fade-in">
        <div>
          <p class="kicker">Ejemplo</p>
          <h2 class="h2">Tatuaje de $400</h2>
          <p class="lead" style="margin-top:12px">
            Con Pay in 4, pagas solo <strong style="color:var(--text)">$100 hoy</strong> y
            el resto en 3 pagos quincenales de $100. Cero intereses.
          </p>
        </div>
        <div class="example-breakdown">
          <div class="example-payment">
            <span class="example-label">Hoy</span>
            <span class="example-amount">$100</span>
          </div>
          <div class="example-payment">
            <span class="example-label">2 semanas</span>
            <span class="example-amount">$100</span>
          </div>
          <div class="example-payment">
            <span class="example-label">4 semanas</span>
            <span class="example-amount">$100</span>
          </div>
          <div class="example-payment">
            <span class="example-label">6 semanas</span>
            <span class="example-amount">$100</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <hr class="divider" />

  <!-- CTA -->
  <section class="section-sm">
    <div class="container" style="text-align:center">
      <div class="cta-pay-logos">
        <img src="https://x.klarnacdn.net/payment-method/assets/badges/generic/klarna.svg" alt="Klarna" width="64" height="24" />
        <svg viewBox="0 0 110 34" width="64" height="22" xmlns="http://www.w3.org/2000/svg" aria-label="ATH Móvil">
          <defs>
            <linearGradient id="athGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#ED6D23"/>
              <stop offset="100%" style="stop-color:#F9A822"/>
            </linearGradient>
          </defs>
          <text x="2" y="26" font-family="Arial Black,Arial,sans-serif" font-weight="900" font-size="24" fill="url(#athGrad4)" letter-spacing="-1">ATH</text>
          <text x="62" y="26" font-family="Arial,sans-serif" font-weight="700" font-size="13" fill="#ffffff" opacity="0.8">Móvil</text>
        </svg>
      </div>
      <h2 class="h2" style="margin-bottom:12px">Tattoo Now, Pay Later</h2>
      <p class="lead" style="margin:0 auto 28px;text-align:center">
        Reserva, elige Klarna al pagar, y empieza con tu primera cuota hoy.<br/>Sin intereses. Sin complicaciones. También puedes pagar con ATH Móvil.
      </p>
      <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
        <a class="btn klarna-btn" href="/reservar">Tattoo Now →</a>
        <a class="btn" href="tel:7875962562">Llamar al estudio</a>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Klarna pink */
  .klarna-pink { color: #FFB3C7; }

  /* Hero */
  .klarna-hero {
    background: linear-gradient(135deg, var(--surface) 0%, rgba(255,179,199,0.04) 100%);
    padding: 72px 0 64px;
    border-bottom: 1px solid var(--border);
  }
  .klarna-hero-inner {
    display: grid;
    gap: 40px;
    align-items: center;
  }
  @media (min-width: 760px) { .klarna-hero-inner { grid-template-columns: 1fr auto; } }
  .klarna-pill {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 6px 14px 6px 8px;
    border-radius: 2px;
    background: rgba(255,179,199,0.08);
    border: 1px solid rgba(255,179,199,0.20);
    margin-bottom: 20px;
  }
  .klarna-pill span {
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #FFB3C7;
  }
  .klarna-hero-text .h1 { margin-bottom: 18px; }
  .klarna-hero-actions { display: flex; gap: 12px; flex-wrap: wrap; margin-top: 28px; }

  .klarna-btn {
    background: #FFB3C7;
    color: #0a0608;
    border-color: #FFB3C7;
    font-weight: 700;
  }
  .klarna-btn:hover {
    background: #ffc9d8;
    border-color: #ffc9d8;
    color: #0a0608;
    box-shadow: 0 4px 20px rgba(255,179,199,0.25);
  }

  .klarna-hero-badge {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--r);
    padding: 36px;
    text-align: center;
    min-width: 220px;
  }
  .klarna-badge-img {
    width: 120px;
    height: auto;
    margin: 0 auto 16px;
    display: block;
  }
  .klarna-badge-text {
    font-size: 12px;
    color: var(--muted);
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
  }
  .klarna-badge-sub {
    font-size: 10px;
    color: var(--muted2);
    letter-spacing: 0.8px;
    margin-top: 4px;
  }

  /* Plans */
  .klarna-plans {
    display: grid;
    gap: 20px;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    margin-bottom: 32px;
  }
  .klarna-plan { transition: border-color 0.2s, transform 0.2s; }
  .klarna-plan:hover { border-color: rgba(255,179,199,0.3); transform: translateY(-3px); }
  .plan-top {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  .plan-icon {
    width: 44px; height: 44px;
    border-radius: 8px;
    background: rgba(255,179,199,0.12);
    color: #FFB3C7;
    display: grid; place-items: center;
    font-family: var(--font-display);
    font-size: 18px;
    font-weight: 700;
    flex-shrink: 0;
  }
  .plan-tag {
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: #FFB3C7;
    padding: 4px 10px;
    background: rgba(255,179,199,0.08);
    border-radius: 2px;
  }

  /* Features */
  .klarna-features {
    display: flex;
    flex-wrap: wrap;
    gap: 20px 36px;
  }
  .klarna-feature {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 14px;
    font-weight: 600;
    color: var(--text);
  }
  .klarna-feature svg { color: #FFB3C7; flex-shrink: 0; }

  /* Steps */
  .klarna-steps {
    display: grid;
    gap: 0;
    margin-top: 8px;
  }
  .klarna-step {
    display: flex;
    gap: 20px;
    align-items: flex-start;
    padding: 24px 0;
    border-bottom: 1px solid var(--border);
  }
  .klarna-step:last-child { border-bottom: none; }
  .klarna-step-num {
    font-family: var(--font-display);
    font-size: 36px;
    color: rgba(255,179,199,0.25);
    line-height: 1;
    flex-shrink: 0;
    min-width: 48px;
  }

  /* Example */
  .klarna-example {
    display: grid;
    gap: 36px;
    align-items: center;
  }
  @media (min-width: 760px) { .klarna-example { grid-template-columns: 1fr 1fr; } }
  .example-breakdown {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
  }
  @media (max-width: 500px) { .example-breakdown { grid-template-columns: repeat(2, 1fr); } }
  .example-payment {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--r-sm);
    padding: 16px 12px;
    text-align: center;
  }
  .example-label {
    display: block;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--muted);
    margin-bottom: 6px;
  }
  .example-amount {
    font-family: var(--font-display);
    font-size: 28px;
    color: #FFB3C7;
  }

  /* Payment method logos — hero + badge */
  .pay-logos {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 22px;
  }
  .pay-logo-sep {
    color: var(--muted2);
    font-size: 18px;
    line-height: 1;
  }
  .pay-logo-klarna { display: block; }
  .pay-logo-ath    { display: block; }

  /* Badge improvements */
  .klarna-badge-label {
    font-size: 9px;
    font-weight: 700;
    letter-spacing: 2.5px;
    text-transform: uppercase;
    color: var(--muted2);
    margin-bottom: 18px;
  }
  .badge-divider {
    width: 40px; height: 1px;
    background: var(--border);
    margin: 16px auto;
  }
  .ath-badge-logo { display: block; margin: 0 auto; }
  .klarna-badge-sub { display: none; } /* cleaned up */

  /* ATH plan card accent */
  .plan-ath { border-color: rgba(237,109,35,0.18); }
  .plan-ath:hover { border-color: rgba(237,109,35,0.45) !important; }
  .plan-ath .plan-icon { background: rgba(237,109,35,0.10); color: #ED6D23; }
  .plan-ath .plan-tag  { background: rgba(237,109,35,0.10); color: #F9A822; }

  /* Plan brand logo footer */
  .plan-brand-logo {
    margin-top: 16px;
    padding-top: 14px;
    border-top: 1px solid var(--border);
  }

  /* CTA pay logos row */
  .cta-pay-logos {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 20px;
    margin: 0 auto 24px;
    flex-wrap: wrap;
  }
</style>
